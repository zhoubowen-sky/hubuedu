<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="http://vjs.zencdn.net/5.8.8/video-js.css" rel="stylesheet">

  <!-- If you'd like to support IE8 -->
  <script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
  <style>
  #my-video{
      width: 100%;
      height: 600px;
  }
  </style>
</head>

<body>
  <video id="my-video" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" height='600px'
 data-setup="{}">
    <source src="{$video_url}" type='video/mp4'>
    <p class="vjs-no-js">播放视频需要启用 JavaScript，推荐使用支持HTML5的浏览器访问。</p>
  </video>
  <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
  <script type="text/javascript" src='{$Think.const.ADMIN_JS_URL}jquery.timers.min'></script>
  <script src="http://vjs.zencdn.net/5.8.8/video.js"></script>
 <script>
	var player = videojs('my-video');  
  var time = 0;
	// 检测播放时间
	player.on('timeupdate', function () {
    // var a = player.currentTime();
    var alltime = player.duration();
    // var c = parseInt(a/b * 100);
    // console.log('当前进度为'+c+'%'); 
   $('body').everyTime('1s',function(){    
     time = time + 1;
     jindu = parseInt(time/alltime);
     console.log('当前进度为'+jindu+'%');
  });
	});
  </script>
</body>
</html>